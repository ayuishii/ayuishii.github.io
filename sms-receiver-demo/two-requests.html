<!DOCTYPE html>
<meta charset="utf-8">
<title>SMS Receiver API Demo</title>
<body>
Test One Request Per Page
<script>

async function main() {
  if (!navigator.sms) {
    alert("feature not available :(");
    return;
  }
  navigator.sms.receive()
    .then(sms => {
      alert("sms1 received - " + sms.content);
    })
    .catch( e => {
      alert("error receive 1 - " + e.name);
    });

  setTimeout(function() {
    let sms2 = navigator.sms.receive()
      .then(sms => {
        alert("sms2 received - " + sms.content);
      })
      .catch(e => {
        alert("error receive 2 - " + e.name);
      });
    (async function() {
      await sms2;
    }());
  }, 5000);
}

main();
</script>
</body>
