<!DOCTYPE html>
<meta charset="utf-8">
<title>SMS Receiver API Demo</title>
<body>
<script>

async function main() {
  /*
  if (!navigator.sms) {
    alert("feature not available :(");
    return;
  }
  try {
    let {content} = await navigator.sms.receive();
    alert("sms received! " + content);
  } catch (e) {
    alert("time out!");
  }
  */
  navigator.sms.receive()
    .then(sms => {
      alert("sms1 received - " + sms.content);
    })
    .catch( e => {
      alert("error receive 1");
    });
  let sms2 = navigator.sms.receive()
    .then(sms => {
      alert("sms2 received - " + sms.content);
    })
    .catch(e => {
      alert("error receive 2");
    });
  await sms2;
}

main();
</script>
</body>
